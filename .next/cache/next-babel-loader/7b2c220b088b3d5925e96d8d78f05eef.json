{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jakkaphan.c/code/nextjs/firstweb/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jakkaphan.c/code/nextjs/firstweb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport Router from \"next/router\";\nexport default function Form() {\n  _s();\n\n  var _useState = useState(\"\"),\n      firstname = _useState[0],\n      setFirstname = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      lastname = _useState2[0],\n      setLastname = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      age = _useState3[0],\n      setAge = _useState3[1];\n\n  var _useState4 = useState(false),\n      submitting = _useState4[0],\n      setSubmitting = _useState4[1];\n\n  function submitHandler(_x) {\n    return _submitHandler.apply(this, arguments);\n  }\n\n  function _submitHandler() {\n    _submitHandler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var res, json;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setSubmitting(true);\n              e.preventDefault();\n              _context.prev = 2;\n              _context.next = 5;\n              return fetch(\"/api/customer\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                  firstname: firstname,\n                  lastname: lastname,\n                  age: age\n                })\n              });\n\n            case 5:\n              res = _context.sent;\n              setSubmitting(false);\n              _context.next = 9;\n              return res.json();\n\n            case 9:\n              json = _context.sent;\n\n              if (res.ok) {\n                _context.next = 12;\n                break;\n              }\n\n              throw Error(json.message);\n\n            case 12:\n              Router.push(\"/\");\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](2);\n              throw Error(_context.t0.message);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 15]]);\n    }));\n    return _submitHandler.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/_jsxs(\"form\", {\n    onSubmit: submitHandler,\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"my-4\",\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        htmlFor: \"firstname\",\n        children: /*#__PURE__*/_jsx(\"h3\", {\n          className: \"font-bold\",\n          children: \"Firstname\"\n        })\n      }), /*#__PURE__*/_jsx(\"input\", {\n        id: \"firstname\",\n        className: \"shadow border rounded w-full\",\n        type: \"text\",\n        name: \"firstname\",\n        value: firstname,\n        onChange: function onChange(e) {\n          return setFirstname(e.target.value);\n        }\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"my-4\",\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        htmlFor: \"lastname\",\n        children: /*#__PURE__*/_jsx(\"h3\", {\n          className: \"font-bold\",\n          children: \"Lastname\"\n        })\n      }), /*#__PURE__*/_jsx(\"input\", {\n        className: \"shadow border rounded w-full\",\n        id: \"lastname\",\n        type: \"text\",\n        name: \"lastname\",\n        value: lastname,\n        onChange: function onChange(e) {\n          return setLastname(e.target.value);\n        }\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"my-4\",\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        htmlFor: \"age\",\n        children: /*#__PURE__*/_jsx(\"h3\", {\n          className: \"font-bold\",\n          children: \"Age\"\n        })\n      }), /*#__PURE__*/_jsx(\"input\", {\n        className: \"shadow border rounded w-full\",\n        id: \"age\",\n        type: \"int\",\n        name: \"age\",\n        maxLength: \"2\",\n        value: age,\n        onChange: function onChange(e) {\n          return setAge(e.target.value);\n        }\n      })]\n    }), /*#__PURE__*/_jsx(\"button\", {\n      disabled: submitting,\n      type: \"submit\",\n      children: submitting ? \"Creating ...\" : \"Create\"\n    })]\n  });\n}\n\n_s(Form, \"47xHVCj+7p1/ywpvjyZ3fhqpujE=\");\n\n_c = Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/Users/jakkaphan.c/code/nextjs/firstweb/components/layouts/form.js"],"names":["useState","Router","Form","firstname","setFirstname","lastname","setLastname","age","setAge","submitting","setSubmitting","submitHandler","e","preventDefault","fetch","method","headers","body","JSON","stringify","res","json","ok","Error","message","push","target","value"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport Router from \"next/router\";\n\nexport default function Form() {\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n\n  async function submitHandler(e) {\n    setSubmitting(true);\n    e.preventDefault();\n    try {\n      const res = await fetch(\"/api/customer\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          firstname,\n          lastname,\n          age,\n        }),\n      });\n      setSubmitting(false);\n      const json = await res.json();\n      if (!res.ok) throw Error(json.message);\n      Router.push(\"/\");\n    } catch (e) {\n      throw Error(e.message);\n    }\n  }\n\n  return (\n    <form onSubmit={submitHandler}>\n      <div className=\"my-4\">\n        <label htmlFor=\"firstname\">\n          <h3 className=\"font-bold\">Firstname</h3>\n        </label>\n        <input\n          id=\"firstname\"\n          className=\"shadow border rounded w-full\"\n          type=\"text\"\n          name=\"firstname\"\n          value={firstname}\n          onChange={(e) => setFirstname(e.target.value)}\n        />\n      </div>\n      <div className=\"my-4\">\n        <label htmlFor=\"lastname\">\n          <h3 className=\"font-bold\">Lastname</h3>\n        </label>\n        <input\n          className=\"shadow border rounded w-full\"\n          id=\"lastname\"\n          type=\"text\"\n          name=\"lastname\"\n          value={lastname}\n          onChange={(e) => setLastname(e.target.value)}\n        />\n      </div>\n      <div className=\"my-4\">\n        <label htmlFor=\"age\">\n          <h3 className=\"font-bold\">Age</h3>\n        </label>\n        <input\n          className=\"shadow border rounded w-full\"\n          id=\"age\"\n          type=\"int\"\n          name=\"age\"\n          maxLength=\"2\"\n          value={age}\n          onChange={(e) => setAge(e.target.value)}\n        />\n      </div>\n      <button disabled={submitting} type=\"submit\">\n        {submitting ? \"Creating ...\" : \"Create\"}\n      </button>\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}